<!DOCTYPE html><html><head><meta charset="utf-8" name="viewport" content="width=device-width,initial-scale=1"><base target="_blank"><link rel="stylesheet" href="/utils/style.css"><title>(っ °Д °;)っ</title><script src="/utils/main.js"></script><style>#stage{font-family:Consolas,monospace;margin:auto;width:80vw;max-width:640px;height:calc(80vh - 160px);overflow:auto;text-align:left;background:#fff;border:1px solid gray;border-radius:2px}.arcinput,.input,.table{display:flex;background-color:#fff;color:#0069b9;border-top:1px solid #cacdd1;word-break:break-all;white-space:pre-wrap}.error{display:flex;background-color:#fff;color:#c80000;word-break:break-all;white-space:pre-wrap}.input::before{display:inline-block;content:">";color:#0078d4;font-weight:700;margin:0 .5em}.arcinput::before{display:inline-block;content:">";color:#939393;font-weight:700;margin:0 .5em}.error::before{display:inline-block;content:"x";color:#c42b1c;font-weight:700;margin:0 .5em}table{border:1px solid #dfe1e3;border-spacing:0;margin:.15em 1.5em;width:100%;text-align:start;color:#1b1b1b}td{text-align:left}tr:nth-child(odd){background-color:#e8e8e8}tr:first-child>td{background-color:#f7f7f7;border-bottom:1px solid #cacdd1}td:not(:last-child){border-right:1px solid #cacdd1}textarea{width:100%;resize:none;border:none;font-family:inherit;color:#0069b9;padding:0;margin:0;border-radius:0}::-webkit-scrollbar{display:none}.mirror{height:0;position:absolute;visibility:hidden}</style></head><body><div class="main"><h1 class="title"></h1><p class="info"></p><div id="stage"></div></div><noscript><strong style="color:red">此浏览器不支持JavaScript，该脚本无法运行。</strong></noscript><script>'use strict';const _i=['WebSQL',[1,0,0],1651658144,1651658144];let db=null;const stage=document.getElementById('stage'),inputbox=document.createElement('div'),textarea=(inputbox.classList.add('input'),document.createElement('textarea')),textarea2=(textarea.enterKeyHint='go',textarea.addEventListener('beforeinput',enterKeyCheck),textarea.addEventListener('input',resize),document.createElement('textarea')),resizeObserver=(textarea2.classList.add('mirror'),new ResizeObserver(resize));function enterKeyCheck(e){'insertLineBreak'==e.inputType?(e.preventDefault(),textarea.value&&(input(textarea.value),textarea.value='')):console.log(e)}function resize(){textarea2.value=textarea.value,textarea2.style.width=textarea.clientWidth+'px',textarea.style.height=Math.max(stage.clientHeight+stage.offsetTop-textarea.offsetTop,textarea2.scrollHeight)+'px'}function input(t){console.log(t);const e=document.createElement('div');e.classList.add('arcinput'),e.textContent=t,reset(e),'function'!=typeof openDatabase?error(null,{message:'当前浏览器不支持openDatabase方法，该脚本无法加载'}):db?db.transaction(e=>e.executeSql(t,[],success,error)):db=openDatabase('test','','',5242880)}function success(e,t){console.log('callback:',e,t);const a=t.rows;if(a.length){const r=Array([]);for(let e=0;e<a.length;e++){var n=a.item(e);const c=[];for(const i in n)r[0].indexOf(i)<0&&r[0].push(i),c[r[0].indexOf(i)]=n[i];r.push(c)}const s=document.createElement('table');for(const l of r){const d=document.createElement('tr');for(const u of l){const p=document.createElement('td');p.textContent=u,d.appendChild(p)}s.appendChild(d)}const o=document.createElement('div');o.classList.add('table'),o.appendChild(s),reset(o)}}function error(e,t){console.log('errorCallback:',e,t),console.error(t.message);const a=document.createElement('div');a.classList.add('error'),a.textContent=t.message,reset(a)}function reset(e){stage.insertBefore(e,inputbox),stage.scrollTo(0,stage.scrollHeight),resize()}resizeObserver.observe(textarea),resizeObserver.observe(document.body),stage.appendChild(inputbox).append(textarea,textarea2),input('输入sql语句，然后回车。')</script></body></html>